{% extends 'base/base.html' %}

{% block title %}Listar Titulares{% endblock %}

{% block content %}
    <div class="container">
        <h1>Lista Titulares</h1>

        <!-- Campo de busca -->
        <input type="text" id="searchInput" placeholder="Buscar...">

        <!-- Tabela de dados -->
        <table id="dataTable">
            <thead>
                <tr>
                    <th>Foto</th>
                    <th>Nome</th>
                    <th>CPF</th>
                    <th>Email</th>
                    <th>Telefone</th>
                    <th>Data de Criação</th>
                </tr>
            </thead>
            <tbody>
                {% for titular in titulares %}
                <tr>
                    <td>
                        {% if titular.foto %}
                                <img src="{{ titular.foto.url }}" alt="Foto de {{ titular.nome }}" style="width: 50px; height: 50px; object-fit: cover;">
                            {% else %}
                                <span>Sem foto</span>
                            {% endif %}
                    </td>
                    <td>{{ titular.nome }}</td>
                    <td>{{ titular.cpf }}</td>
                    <td>{{ titular.email }}</td>
                    <td>{{ titular.telefone }}</td>
                    <td>{{ titular.criado_em|date:"d/m/Y H:i" }}</td>
                    <td>
                        <button class="detalhes-btn">Detalhes</button>
                    </td>
                </tr>
                {% empty %}
                    <tr>
                        <td colspan="6">Nenhum titular cadastrado.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    {% endblock %}


